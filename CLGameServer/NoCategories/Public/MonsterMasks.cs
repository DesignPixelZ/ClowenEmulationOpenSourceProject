using System;
using System.Collections.Generic;
using CLGameServer.Client;
using CLFramework;
namespace CLGameServer
{
    public partial class PlayerMgr
    {
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Monster Masks Base
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        void MonsterMasks(int itemid, byte slot)
        {
            try
            {
                //Load Mask Info
                ObjData.slotItem item = GetItem((uint)Character.Information.CharacterID, slot, 0);
                int skillid = 7126;
                SpecialBuff(skillid);
                //Load Model Info From Database
                int modelid = Convert.ToInt32(DB.GetData("SELECT modelid FROM char_items WHERE slot='"+ slot +"' AND owner='"+ Character.Information.CharacterID +"'", "modelid"));
                //Create send to list
                List<int> To = Character.Spawn;
                //Transform the player
                Send(To,Packet.Transform(modelid,Character.Information.UniqueID));               
            }
            catch (Exception ex)
            {
                Console.WriteLine("Monster Mask Usage error : {0}", ex);
                Log.Exception(ex);
            }
        }
    }
}
